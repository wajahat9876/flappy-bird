{"version":3,"names":["_types","require","_NodeType","_Node","_datatypes","_DeclarationContext","BlendNode","JsiDeclarationNode","constructor","ctx","props","NodeType","Blend","decorate","decorateChildren","Skia","blend","BlendMode","enumKey","mode","imageFilters","popAll","length","composer","ImageFilter","MakeBlend","bind","push","composeDeclarations","shaders","Shader","exports"],"sources":["BlendNode.ts"],"sourcesContent":["import type { BlendProps } from \"../../types/ImageFilters\";\nimport { BlendMode } from \"../../../skia/types\";\nimport { NodeType } from \"../../types/NodeType\";\nimport type { NodeContext } from \"../Node\";\nimport { JsiDeclarationNode } from \"../Node\";\nimport { enumKey } from \"../datatypes\";\nimport type { DeclarationContext } from \"../../types/DeclarationContext\";\nimport { composeDeclarations } from \"../../types/DeclarationContext\";\n\nexport class BlendNode extends JsiDeclarationNode<BlendProps> {\n  constructor(ctx: NodeContext, props: BlendProps) {\n    super(ctx, NodeType.Blend, props);\n  }\n\n  decorate(ctx: DeclarationContext) {\n    this.decorateChildren(ctx);\n    const { Skia } = this;\n    const blend = BlendMode[enumKey(this.props.mode)];\n    // Blend ImageFilters\n    const imageFilters = ctx.imageFilters.popAll();\n    if (imageFilters.length > 0) {\n      const composer = Skia.ImageFilter.MakeBlend.bind(Skia.ImageFilter, blend);\n      ctx.imageFilters.push(composeDeclarations(imageFilters, composer));\n    }\n    // Blend Shaders\n    const shaders = ctx.shaders.popAll();\n    if (shaders.length > 0) {\n      const composer = Skia.Shader.MakeBlend.bind(Skia.Shader, blend);\n      ctx.shaders.push(composeDeclarations(shaders, composer));\n    }\n  }\n}\n"],"mappings":";;;;;;AACA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,SAAA,GAAAD,OAAA;AAEA,IAAAE,KAAA,GAAAF,OAAA;AACA,IAAAG,UAAA,GAAAH,OAAA;AAEA,IAAAI,mBAAA,GAAAJ,OAAA;AAEO,MAAMK,SAAS,SAASC,wBAAkB,CAAa;EAC5DC,WAAWA,CAACC,GAAgB,EAAEC,KAAiB,EAAE;IAC/C,KAAK,CAACD,GAAG,EAAEE,kBAAQ,CAACC,KAAK,EAAEF,KAAK,CAAC;EACnC;EAEAG,QAAQA,CAACJ,GAAuB,EAAE;IAChC,IAAI,CAACK,gBAAgB,CAACL,GAAG,CAAC;IAC1B,MAAM;MAAEM;IAAK,CAAC,GAAG,IAAI;IACrB,MAAMC,KAAK,GAAGC,gBAAS,CAAC,IAAAC,kBAAO,EAAC,IAAI,CAACR,KAAK,CAACS,IAAI,CAAC,CAAC;IACjD;IACA,MAAMC,YAAY,GAAGX,GAAG,CAACW,YAAY,CAACC,MAAM,CAAC,CAAC;IAC9C,IAAID,YAAY,CAACE,MAAM,GAAG,CAAC,EAAE;MAC3B,MAAMC,QAAQ,GAAGR,IAAI,CAACS,WAAW,CAACC,SAAS,CAACC,IAAI,CAACX,IAAI,CAACS,WAAW,EAAER,KAAK,CAAC;MACzEP,GAAG,CAACW,YAAY,CAACO,IAAI,CAAC,IAAAC,uCAAmB,EAACR,YAAY,EAAEG,QAAQ,CAAC,CAAC;IACpE;IACA;IACA,MAAMM,OAAO,GAAGpB,GAAG,CAACoB,OAAO,CAACR,MAAM,CAAC,CAAC;IACpC,IAAIQ,OAAO,CAACP,MAAM,GAAG,CAAC,EAAE;MACtB,MAAMC,QAAQ,GAAGR,IAAI,CAACe,MAAM,CAACL,SAAS,CAACC,IAAI,CAACX,IAAI,CAACe,MAAM,EAAEd,KAAK,CAAC;MAC/DP,GAAG,CAACoB,OAAO,CAACF,IAAI,CAAC,IAAAC,uCAAmB,EAACC,OAAO,EAAEN,QAAQ,CAAC,CAAC;IAC1D;EACF;AACF;AAACQ,OAAA,CAAAzB,SAAA,GAAAA,SAAA"}