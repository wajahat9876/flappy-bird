{"version":3,"names":["BlendMode","NodeType","JsiDeclarationNode","enumKey","composeDeclarations","BlendNode","constructor","ctx","props","Blend","decorate","decorateChildren","Skia","blend","mode","imageFilters","popAll","length","composer","ImageFilter","MakeBlend","bind","push","shaders","Shader"],"sources":["BlendNode.ts"],"sourcesContent":["import type { BlendProps } from \"../../types/ImageFilters\";\nimport { BlendMode } from \"../../../skia/types\";\nimport { NodeType } from \"../../types/NodeType\";\nimport type { NodeContext } from \"../Node\";\nimport { JsiDeclarationNode } from \"../Node\";\nimport { enumKey } from \"../datatypes\";\nimport type { DeclarationContext } from \"../../types/DeclarationContext\";\nimport { composeDeclarations } from \"../../types/DeclarationContext\";\n\nexport class BlendNode extends JsiDeclarationNode<BlendProps> {\n  constructor(ctx: NodeContext, props: BlendProps) {\n    super(ctx, NodeType.Blend, props);\n  }\n\n  decorate(ctx: DeclarationContext) {\n    this.decorateChildren(ctx);\n    const { Skia } = this;\n    const blend = BlendMode[enumKey(this.props.mode)];\n    // Blend ImageFilters\n    const imageFilters = ctx.imageFilters.popAll();\n    if (imageFilters.length > 0) {\n      const composer = Skia.ImageFilter.MakeBlend.bind(Skia.ImageFilter, blend);\n      ctx.imageFilters.push(composeDeclarations(imageFilters, composer));\n    }\n    // Blend Shaders\n    const shaders = ctx.shaders.popAll();\n    if (shaders.length > 0) {\n      const composer = Skia.Shader.MakeBlend.bind(Skia.Shader, blend);\n      ctx.shaders.push(composeDeclarations(shaders, composer));\n    }\n  }\n}\n"],"mappings":"AACA,SAASA,SAAS,QAAQ,qBAAqB;AAC/C,SAASC,QAAQ,QAAQ,sBAAsB;AAE/C,SAASC,kBAAkB,QAAQ,SAAS;AAC5C,SAASC,OAAO,QAAQ,cAAc;AAEtC,SAASC,mBAAmB,QAAQ,gCAAgC;AAEpE,OAAO,MAAMC,SAAS,SAASH,kBAAkB,CAAa;EAC5DI,WAAWA,CAACC,GAAgB,EAAEC,KAAiB,EAAE;IAC/C,KAAK,CAACD,GAAG,EAAEN,QAAQ,CAACQ,KAAK,EAAED,KAAK,CAAC;EACnC;EAEAE,QAAQA,CAACH,GAAuB,EAAE;IAChC,IAAI,CAACI,gBAAgB,CAACJ,GAAG,CAAC;IAC1B,MAAM;MAAEK;IAAK,CAAC,GAAG,IAAI;IACrB,MAAMC,KAAK,GAAGb,SAAS,CAACG,OAAO,CAAC,IAAI,CAACK,KAAK,CAACM,IAAI,CAAC,CAAC;IACjD;IACA,MAAMC,YAAY,GAAGR,GAAG,CAACQ,YAAY,CAACC,MAAM,CAAC,CAAC;IAC9C,IAAID,YAAY,CAACE,MAAM,GAAG,CAAC,EAAE;MAC3B,MAAMC,QAAQ,GAAGN,IAAI,CAACO,WAAW,CAACC,SAAS,CAACC,IAAI,CAACT,IAAI,CAACO,WAAW,EAAEN,KAAK,CAAC;MACzEN,GAAG,CAACQ,YAAY,CAACO,IAAI,CAAClB,mBAAmB,CAACW,YAAY,EAAEG,QAAQ,CAAC,CAAC;IACpE;IACA;IACA,MAAMK,OAAO,GAAGhB,GAAG,CAACgB,OAAO,CAACP,MAAM,CAAC,CAAC;IACpC,IAAIO,OAAO,CAACN,MAAM,GAAG,CAAC,EAAE;MACtB,MAAMC,QAAQ,GAAGN,IAAI,CAACY,MAAM,CAACJ,SAAS,CAACC,IAAI,CAACT,IAAI,CAACY,MAAM,EAAEX,KAAK,CAAC;MAC/DN,GAAG,CAACgB,OAAO,CAACD,IAAI,CAAClB,mBAAmB,CAACmB,OAAO,EAAEL,QAAQ,CAAC,CAAC;IAC1D;EACF;AACF"}